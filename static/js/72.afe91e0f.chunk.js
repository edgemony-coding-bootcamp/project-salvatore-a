"use strict";(self.webpackChunkedgeflix=self.webpackChunkedgeflix||[]).push([[72],{2538:function(e,n,s){s.d(n,{Z:function(){return h}});var r=s(8214),t=s(5861),a=s(4942),i=s(1413),c=s(885),o=s(2791),l=s(6871),u=s(9815),d=["https://occ-0-3092-2581.1.nflxso.net/dnm/api/v6/K6hjPJd6cR6FpVELC5Pd6ovHRSk/AAAABVXPTTvsd2xi4o0OCh5RuMYTUnlwAERLP5RIoMCObB6-Tp23ADj_dcd00pV2p0Gh8UjHBdIfXzm9I1zWuViessUtvBapy3_hWJAO.png?r=e59","https://occ-0-3092-2581.1.nflxso.net/dnm/api/v6/K6hjPJd6cR6FpVELC5Pd6ovHRSk/AAAABbEpsFiYWCUEB6_95Mf5IggdpqegCC_zRIn-zI6GYFN94vp5_tX9qNfNOFwNb6LH4Tng7ENAwvNxJ-_I2gePe-sdPO0E7k1FLUXF.png?r=9cc","https://occ-0-3092-2581.1.nflxso.net/dnm/api/v6/K6hjPJd6cR6FpVELC5Pd6ovHRSk/AAAABWbBDxHBii4kJ-J6A29-cKvhLPlsTDLbzNDVdXftJo16-oIKJ9OVVLP8zqUV1oJPFOAjLMegxfPK8KEmJjyDP_Ysow38gR_yzvrb.png?r=358"],p="AccessForm_AccessForm__rMrwg",m="AccessForm_AccessForm__AvatarsWrapper__OKcfK",f="AccessForm_Selected__lnhrf",v="AccessForm_AccessForm__inputGroup__-EiD1",g=s(184);var h=function(e){e.sendData;var n=e.formType,s=(0,o.useState)({avatar:"https://cdn-icons-png.flaticon.com/512/843/843331.png?w=740"}),h=(0,c.Z)(s,2),x=h[0],_=h[1],j=(0,l.s0)(),A=(0,u.S)(),b=A.users,w=A.fetchAllUsers;(0,o.useEffect)((function(){w()}),[]);var S=function(e){var n=e.target.name,s=e.target.value;_((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n,s))}))},C=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(n,s){var t,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signup"!==s){e.next=22;break}return e.prev=1,e.next=4,fetch("https://edgemony-backend.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return t=e.sent,e.next=7,t.json();case 7:if(a=e.sent,201===t.status){e.next=12;break}throw new Error(a);case 12:localStorage.setItem("JWT_accessToken",a.accessToken),localStorage.setItem("currentUser",a.user.id),j("/browse");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),alert(e.t0);case 20:e.next=24;break;case 22:(i=b.filter((function(e){return e.email===n.email}))).length?(localStorage.setItem("currentUser",i[0].id),j("/browse")):alert("Questa email non esiste, registrati!");case 24:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(n,s){return e.apply(this,arguments)}}(),k=(0,o.useState)(""),N=(0,c.Z)(k,2),y=N[0],F=N[1],P=function(e){var n=e.target.id;F(n),_((function(n){return(0,i.Z)((0,i.Z)({},n),{},{avatar:e.target.id})}))};return(0,g.jsxs)("form",{autoComplete:"false",onSubmit:function(e){e.preventDefault(),C(x,n)},className:p,children:["signup"===n?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("small",{children:"Scegli il tuo avatar!"}),d.map((function(e,n){return(0,g.jsx)("img",{id:e,className:y===e?f:null,onClick:P,src:e,alt:"Avatar ".concat(n)},n)}))]}),(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("label",{htmlFor:"username",children:"Username"}),(0,g.jsx)("input",{required:!0,autoComplete:"new-password",type:"text",value:x.username||"",name:"username",onChange:S,id:"username"})]})]}):null,(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("label",{htmlFor:"email",children:"Email"}),(0,g.jsx)("input",{required:!0,autoComplete:"new-password",type:"email",value:x.email||"",name:"email",onChange:S,id:"email"})]}),(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("label",{htmlFor:"password",children:"Password"}),(0,g.jsx)("input",{required:!0,autoComplete:"new-password",type:"password",value:x.password||"",name:"password",onChange:S,id:"password"})]}),(0,g.jsx)("div",{className:v,children:"signup"===n?(0,g.jsx)("input",{type:"submit",value:"Sign Up"}):(0,g.jsx)("input",{type:"submit",value:"Sign In"})})]})}},7648:function(e,n,s){s.d(n,{Z:function(){return i}});var r="Overlay_Overlay__QvtbA",t="Overlay_OverlayNotVisible__2O-ro",a=s(184);var i=function(e){var n=e.functionOnClick,s=void 0===n?function(){}:n,i=e.visibility,c=void 0===i||i;return(0,a.jsx)("div",{onClick:function(){return s()},className:c?r:t})}},9072:function(e,n,s){s.r(n),s.d(n,{default:function(){return p}});var r=s(2538),t=s(7648),a="Signin_Signin__g3QIx",i="Signin_Signin__redirect__NmHjX",c="Signin_Signin__RapidAccess__3Ct89",o=s(1221),l=s(3504),u=s(6871),d=s(184);var p=function(){var e=(0,u.s0)();return(0,d.jsxs)("div",{className:a,children:[(0,d.jsx)("img",{src:o,alt:"Edgeflix"}),(0,d.jsx)(t.Z,{}),(0,d.jsx)("h1",{children:"Sign In"}),(0,d.jsx)(r.Z,{formType:"signin"}),(0,d.jsxs)("small",{className:i,children:["Non sei ancora registrato? ",(0,d.jsx)(l.rU,{to:"/signup",children:"Sign Up!"})]}),(0,d.jsx)("button",{onClick:function(){return localStorage.setItem("currentUser","admin"),void e("/browse")},className:c,children:"Accesso rapido"})]})}},1221:function(e,n,s){e.exports=s.p+"static/media/logo.606f44d2a13c4c194bf1.png"}}]);
//# sourceMappingURL=72.afe91e0f.chunk.js.map