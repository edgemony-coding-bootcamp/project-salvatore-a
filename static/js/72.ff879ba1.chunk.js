"use strict";(self.webpackChunkedgeflix=self.webpackChunkedgeflix||[]).push([[72],{2538:function(e,s,n){n.d(s,{Z:function(){return A}});var r=n(8214),t=n(5861),a=n(4942),i=n(1413),c=n(885),o=n(2791),l=n(6871),u=n(9815),d=n(6856),m=["https://occ-0-3092-2581.1.nflxso.net/dnm/api/v6/K6hjPJd6cR6FpVELC5Pd6ovHRSk/AAAABVXPTTvsd2xi4o0OCh5RuMYTUnlwAERLP5RIoMCObB6-Tp23ADj_dcd00pV2p0Gh8UjHBdIfXzm9I1zWuViessUtvBapy3_hWJAO.png?r=e59","https://occ-0-3092-2581.1.nflxso.net/dnm/api/v6/K6hjPJd6cR6FpVELC5Pd6ovHRSk/AAAABbEpsFiYWCUEB6_95Mf5IggdpqegCC_zRIn-zI6GYFN94vp5_tX9qNfNOFwNb6LH4Tng7ENAwvNxJ-_I2gePe-sdPO0E7k1FLUXF.png?r=9cc","https://occ-0-3092-2581.1.nflxso.net/dnm/api/v6/K6hjPJd6cR6FpVELC5Pd6ovHRSk/AAAABWbBDxHBii4kJ-J6A29-cKvhLPlsTDLbzNDVdXftJo16-oIKJ9OVVLP8zqUV1oJPFOAjLMegxfPK8KEmJjyDP_Ysow38gR_yzvrb.png?r=358"],p="AccessForm_AccessForm__rMrwg",v="AccessForm_Selected__lnhrf",f="AccessForm_Visible__4cyxi",_="AccessForm_AccessForm__ErrorMessage__HMfyv",g="AccessForm_AccessForm__AccessPlans__yVVsR",h="AccessForm_AccessForm__AvatarsWrapper__OKcfK",x="AccessForm_AccessForm__inputGroup__-EiD1",j=n(184);var A=function(e){e.sendData;var s=e.endPoint,n=(0,l.s0)(),A=(0,u.S)().fetchAllUsers,b=(0,o.useState)(""),S=(0,c.Z)(b,2),w=S[0],N=S[1],C=(0,o.useState)(!1),F=(0,c.Z)(C,2),P=F[0],k=F[1],y=(0,o.useState)(""),Z=(0,c.Z)(y,2),V=Z[0],O=Z[1],E=(0,o.useState)({isVisible:!1,message:""}),I=(0,c.Z)(E,2),J=I[0],R=I[1],U=(0,o.useState)("login"!==s?{avatar:"https://cdn-icons-png.flaticon.com/512/843/843331.png?w=740"}:{}),T=(0,c.Z)(U,2),B=T[0],L=T[1];(0,o.useEffect)((function(){A()}),[]);var H=function(e){var s=e.target.name,n=e.target.value;L((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},s,n))}))},K=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(s,t){var a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://edgemony-backend.herokuapp.com/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 3:return a=e.sent,e.next=6,a.json();case 6:if(i=e.sent,200===a.status||201===a.status){e.next=11;break}throw new Error(i);case 11:localStorage.setItem("JWT_accessToken",i.accessToken),localStorage.setItem("currentUser",i.user.id),n("/browse");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),R({isVisible:!0,message:e.t0});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(s,n){return e.apply(this,arguments)}}(),D=function(e){var s=e.target.id;N(s),L((function(s){return(0,i.Z)((0,i.Z)({},s),{},{avatar:e.target.id})}))};return(0,j.jsxs)("form",{autoComplete:"false",onSubmit:function(e){e.preventDefault(),K(B,s)},className:p,children:[J.isVisible&&(0,j.jsx)("small",{className:_,children:String(J.message)}),"users"===s?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:h,children:[(0,j.jsx)("small",{children:"Scegli il tuo avatar!"}),m.map((function(e,s){return(0,j.jsx)("img",{id:e,className:w===e?v:null,onClick:D,src:e,alt:"Avatar ".concat(s)},s)}))]}),(0,j.jsxs)("div",{className:g,children:[(0,j.jsxs)("span",{onClick:function(){return k(!P)},children:[(0,j.jsx)("small",{children:"Scegli il tuo piano di accesso!"}),(0,j.jsx)(d.gwH,{})]}),(0,j.jsx)("div",{className:P?f:null,children:["Premium","Basic","Poor"].map((function(e,s){return(0,j.jsx)("div",{onClick:function(){return function(e){O(e),L((function(s){return(0,i.Z)((0,i.Z)({},s),{},{accessPlan:e})}))}(e)},className:V===e?v:null,children:e},s)}))})]}),(0,j.jsxs)("div",{className:x,children:[(0,j.jsx)("label",{htmlFor:"username",children:"Username"}),(0,j.jsx)("input",{required:!0,autoComplete:"new-password",type:"text",value:B.username||"",name:"username",onChange:H,id:"username"})]})]}):null,(0,j.jsxs)("div",{className:x,children:[(0,j.jsx)("label",{htmlFor:"email",children:"Email"}),(0,j.jsx)("input",{required:!0,autoComplete:"new-password",type:"email",value:B.email||"",name:"email",onChange:H,id:"email"})]}),(0,j.jsxs)("div",{className:x,children:[(0,j.jsx)("label",{htmlFor:"password",children:"Password"}),(0,j.jsx)("input",{required:!0,autoComplete:"new-password",type:"password",value:B.password||"",name:"password",onChange:H,id:"password"})]}),(0,j.jsx)("div",{className:x,children:"users"===s?(0,j.jsx)("input",{type:"submit",value:"Sign Up"}):(0,j.jsx)("input",{type:"submit",value:"Sign In"})})]})}},7648:function(e,s,n){n.d(s,{Z:function(){return i}});var r="Overlay_Overlay__QvtbA",t="Overlay_OverlayNotVisible__2O-ro",a=n(184);var i=function(e){var s=e.functionOnClick,n=void 0===s?function(){}:s,i=e.visibility,c=void 0===i||i;return(0,a.jsx)("div",{onClick:function(){return n()},className:c?r:t})}},9072:function(e,s,n){n.r(s),n.d(s,{default:function(){return m}});var r=n(2538),t=n(7648),a="Signin_Signin__g3QIx",i="Signin_Signin__redirect__NmHjX",c="Signin_Signin__RapidAccess__3Ct89",o=n(1221),l=n(3504),u=n(6871),d=n(184);var m=function(){var e=(0,u.s0)();return(0,d.jsxs)("div",{className:a,children:[(0,d.jsx)("img",{src:o,alt:"Edgeflix"}),(0,d.jsx)(t.Z,{}),(0,d.jsx)("h1",{children:"Sign In"}),(0,d.jsx)(r.Z,{endPoint:"login"}),(0,d.jsxs)("small",{className:i,children:["Non sei ancora registrato? ",(0,d.jsx)(l.rU,{to:"/signup",children:"Sign Up!"})]}),(0,d.jsx)("button",{onClick:function(){return localStorage.setItem("currentUser","admin"),void e("/browse")},className:c,children:"Accesso rapido"})]})}},1221:function(e,s,n){e.exports=n.p+"static/media/logo.606f44d2a13c4c194bf1.png"}}]);
//# sourceMappingURL=72.ff879ba1.chunk.js.map